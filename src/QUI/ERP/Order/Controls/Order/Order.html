<header class="quiqqer-order-control-order-header">
    <h1>Bestelldetails</h1>

    <div class="quiqqer-order-control-order-header-date">
        <span>{locale group="quiqqer/order" var="control.profile.orders.order.date"}</span>
        <span>{$Order->getCreateDate()}</span>
    </div>

    <span class="quiqqer-order-control-order-header-placer">|</span>

    <div class="quiqqer-order-control-order-header-id">
        <span>{locale group="quiqqer/order" var="control.profile.orders.order.orderNo"}</span>
        <span>{$Order->getId()}</span>
    </div>
</header>

<div class="quiqqer-order-control-order-information">
    <section class="quiqqer-order-control-order-information-invoiceAddress">
        <header>
            <h2>Rechnungsaddresse</h2>
        </header>
        <span>{locale group="quiqqer/order" var="control.profile.orders.order.invoiceAddress"}</span>
        {if $Invoice}
        {assign var=Customer value=$Invoice->getCustomer()}
        {else}
        {assign var=Customer value=$Order->getCustomer()}
        {/if}

        {assign var=Address value=$Customer->getAddress()}
        {$Address->render()}
    </section>

    <section class="quiqqer-order-control-order-information-orderData">
        <header>
            <h2>Bestell√ºbersicht</h2>
        </header>

        <table class="quiqqer-order-control-order-information-orderData-table">
            <tr>
                <td>Zwischensumme</td>
                <td class="quiqqer-order-control-order-information-orderData-factor-subSum">
                    {$Calculation->getSubSum()->formatted()}
                </td>
            </tr>
            {foreach $PriceFactors as $Factor}
            <tr>
                <td>{$Factor->getTitle()}</td>
                <td class="quiqqer-order-control-order-information-orderData-factor-sum">
                    {$Factor->getSumFormatted()}
                </td>
            </tr>
            {/foreach}
            <tr>
                <td>Gesammtsumme</td>
                <td class="quiqqer-order-control-order-information-orderData-sum">
                    {$Calculation->getSum()->formatted()}
                </td>
            </tr>
        </table>
    </section>
</div>

<section class="quiqqer-order-control-order-articles">
    <header>
        <h2>Artikel</h2>
    </header>

    {assign var=pos value=1}
    {foreach $Articles as $Article}
    <article>
        <div class="quiqqer-order-profile-orders-order-articles-article-pos">
            {$pos}.
        </div>

        <div class="quiqqer-order-profile-orders-order-articles-article-image">
            {if $Article->getImage()}
            {image image=$Article->getImage() height=200}
            {/if}

            {if $Article->getQuantity() > 1}
            <div class="quiqqer-order-profile-orders-order-articles-article-quantity">
                {$Article->getQuantity()}
            </div>
            {/if}
        </div>

        <div class="quiqqer-order-profile-orders-order-articles-article-information">
            <div class="quiqqer-order-profile-orders-order-articles-article-title">
                {$Article->getTitle()}
            </div>

            <div class="quiqqer-order-profile-orders-order-articles-article-description">
                {$Article->getDescription()}
            </div>

            <div class="quiqqer-order-profile-orders-order-articles-article-price">
                {$Article->getPrice()->getDisplayPrice()}
            </div>
        </div>
    </article>
    {assign var=pos value=$pos+1}
    {/foreach}
</section>