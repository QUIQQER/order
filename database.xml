<?xml version="1.0" encoding="UTF-8"?>
<database>

    <global>
        <table name="orders">
            <field type="BIGINT(10) NOT NULL AUTO_INCREMENT PRIMARY KEY">id</field>
            <field type="VARCHAR(100) DEFAULT NULL">id_prefix</field>
            <field type="VARCHAR(110) DEFAULT NULL">id_str</field>
            <field type="BIGINT(10) NULL DEFAULT NULL">order_process_id</field>
            <field type="VARCHAR(250) NULL DEFAULT NULL">global_process_id</field>

            <!-- Für aufgesplittete Bestellungen -->
            <field type="BIGINT(10) NULL DEFAULT NULL">parent_order</field>

            <!-- nur setzen wenn invoice gebucht ist -->
            <field type="INT NULL DEFAULT NULL">invoice_id</field>
            <field type="INT NULL DEFAULT NULL">temporary_invoice_id</field>
            <field type="INT NOT NULL">status</field>

            <field type="INT NOT NULL">customerId</field>
            <field type="TEXT NULL">customer</field>
            <field type="TEXT NULL">addressInvoice</field>
            <field type="TEXT NULL">addressDelivery</field>

            <field type="TEXT NULL">articles</field>
            <field type="TEXT NULL">data</field>

            <field type="INT(11) NULL DEFAULT NULL">payment_id</field>
            <field type="VARCHAR(255) NULL DEFAULT NULL">payment_method</field>
            <field type="TEXT NULL">payment_data</field> <!-- muss verschlüsselt sein -->
            <field type="DATETIME NULL DEFAULT NULL">payment_time</field>
            <field type="TEXT NULL">payment_address</field>
            <field type="INT(2) NOT NULL">paid_status</field>
            <field type="INT(11) NULL">paid_date</field>
            <field type="TEXT NULL">paid_data</field>
            <field type="INT(2) NOT NULL">successful</field>

            <field type="TEXT NULL">history</field>
            <field type="TEXT NULL">comments</field>

            <field type="VARCHAR(250) NOT NULL">hash</field>
            <field type="timestamp NULL default NULL">c_date</field>
            <field type="INT NOT NULL">c_user</field>

            <primary>id</primary>
            <auto_increment>id</auto_increment>
            <index>invoice_id</index>
            <index>customerId</index>
            <index>hash</index>
        </table>

        <table name="orders_process">
            <field type="BIGINT(10) NOT NULL AUTO_INCREMENT PRIMARY KEY">id</field>
            <field type="VARCHAR(100) DEFAULT NULL">id_prefix</field>
            <field type="VARCHAR(110) DEFAULT NULL">id_str</field>
            <field type="BIGINT(10) NULL DEFAULT NULL">order_id</field> <!-- Für aufgesplittete Bestellungen -->

            <field type="BIGINT(10) NULL DEFAULT NULL">parent_order</field> <!-- Für aufgesplittete Bestellungen -->
            <field type="INT NULL DEFAULT NULL">invoice_id</field> <!-- nur setzen wenn invoice gebucht ist -->
            <field type="INT NULL DEFAULT NULL">temporary_invoice_id</field>
            <field type="INT NOT NULL">status</field>

            <field type="INT NOT NULL">customerId</field>
            <field type="TEXT NULL">customer</field>
            <field type="TEXT NULL">addressInvoice</field>
            <field type="TEXT NULL">addressDelivery</field>

            <field type="TEXT NULL">articles</field>
            <field type="TEXT NULL">data</field>

            <field type="TEXT NULL">history</field>
            <field type="TEXT NULL">comments</field>

            <field type="INT(11) NULL DEFAULT NULL">payment_id</field>
            <field type="VARCHAR(255) NULL DEFAULT NULL">payment_method</field>
            <field type="TEXT NULL">payment_data</field> <!-- muss verschlüsselt sein -->
            <field type="DATETIME NULL DEFAULT NULL">payment_time</field>
            <field type="TEXT NULL">payment_address</field>
            <field type="INT(2) NOT NULL">paid_status</field>
            <field type="INT(11) NULL">paid_date</field>
            <field type="TEXT NULL">paid_data</field>
            <field type="INT(2) NOT NULL">successful</field>

            <field type="VARCHAR(250) NOT NULL">hash</field>
            <field type="timestamp NULL default NULL">c_date</field>
            <field type="INT NOT NULL">c_user</field>

            <primary>id</primary>
            <auto_increment>id</auto_increment>
            <index>invoice_id</index>
            <index>customerId</index>
            <index>hash</index>
        </table>

        <table name="baskets">
            <field type="BIGINT(10) NOT NULL AUTO_INCREMENT PRIMARY KEY">id</field>
            <field type="INT(11) NOT NULL">uid</field>
            <field type="BIGINT(20) NULL">name</field>
            <field type="TEXT NULL">products</field>
            <field type="VARCHAR(250) NULL">hash</field>
            <field type="timestamp DEFAULT NOW() ON UPDATE NOW()">e_date</field>

            <primary>id</primary>
            <auto_increment>id</auto_increment>
            <index>hash</index>
        </table>
    </global>

</database>